(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[536],{106:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(7876),i=n(4232),o=n(7328),d=n.n(o);function s(){let[e,t]=(0,i.useState)([]),[n,o]=(0,i.useState)(""),s=(0,i.useRef)(null);(0,i.useEffect)(()=>{(async()=>{let e=await fetch("/api/load-todos");e.ok&&t((await e.json()).todos||[])})()},[]);let a=e=>{s.current&&clearTimeout(s.current),s.current=setTimeout(async()=>{await fetch("/api/save-todos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({todos:e})})},500)},l=n=>{let r=e.filter((e,t)=>t!==n);t(r),a(r)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d(),{children:(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})}),(0,r.jsxs)("div",{style:{maxWidth:400,margin:"2rem auto",fontFamily:"sans-serif",padding:"1rem",boxSizing:"border-box"},children:[(0,r.jsx)("h1",{style:{fontSize:"2rem",textAlign:"center"},children:"Todo List"}),(0,r.jsxs)("div",{style:{display:"flex",gap:8,flexDirection:"row",marginBottom:16},children:[(0,r.jsx)("input",{value:n,onChange:e=>o(e.target.value),placeholder:"Add a todo",style:{flex:1,padding:8,fontSize:"1rem",borderRadius:4,border:"1px solid #ccc"}}),(0,r.jsx)("button",{onClick:()=>{if(""!==n.trim()){let r=[...e,n];t(r),a(r),o("")}},style:{padding:"8px 16px",fontSize:"1rem",borderRadius:4,border:"none",background:"#0070f3",color:"#fff",cursor:"pointer"},children:"Add"})]}),(0,r.jsx)("ul",{style:{padding:0,listStyle:"none"},children:e.map((e,t)=>(0,r.jsxs)("li",{style:{margin:"8px 0",display:"flex",justifyContent:"space-between",alignItems:"center",background:"#f9f9f9",padding:"8px 12px",borderRadius:4},children:[(0,r.jsx)("span",{style:{wordBreak:"break-word",flex:1},children:e}),(0,r.jsx)("button",{onClick:()=>l(t),style:{marginLeft:8,padding:"4px 8px",fontSize:"0.9rem",borderRadius:4,border:"none",background:"#e00",color:"#fff",cursor:"pointer"},children:"Remove"})]},t))})]})]})}},2796:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/todo",function(){return n(106)}])},7328:(e,t,n)=>{e.exports=n(5679)}},e=>{var t=t=>e(e.s=t);e.O(0,[636,593,792],()=>t(2796)),_N_E=e.O()}]);